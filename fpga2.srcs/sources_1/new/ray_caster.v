`timescale 1ns / 1ps
//////////////////////////////////////////////////////////////////////////////////
// Company: 
// Engineer: 
// 
// Create Date: 10/17/2022 02:44:53 PM
// Design Name: 
// Module Name: ray_caster
// Project Name: 
// Target Devices: 
// Tool Versions: 
// Description: 
// 
// Dependencies: 
// 
// Revision:
// Revision 0.01 - File Created
// Additional Comments:
// 
//////////////////////////////////////////////////////////////////////////////////


module ray_caster(
        input wire clk100,
        input wire [1:0] fourstate,
        input wire send_new_ray,
        output wire [31:0] output_ray,
        output wire [9:0] output_xpos
    );

    reg [31:0] output_rays [639:0];
    
    // Inits fake output data
    initial begin
        output_rays[0] = 19500;
        output_rays[1] = 19500;
        output_rays[2] = 19999;
        output_rays[3] = 19999;
        output_rays[4] = 20500;
        output_rays[5] = 20500;
        output_rays[6] = 20499;
        output_rays[7] = 21000;
        output_rays[8] = 20999;
        output_rays[9] = 21499;
        output_rays[10] = 21499;
        output_rays[11] = 21500;
        output_rays[12] = 22000;
        output_rays[13] = 21999;
        output_rays[14] = 22499;
        output_rays[15] = 22500;
        output_rays[16] = 22999;
        output_rays[17] = 23000;
        output_rays[18] = 23500;
        output_rays[19] = 23500;
        output_rays[20] = 24000;
        output_rays[21] = 23999;
        output_rays[22] = 24500;
        output_rays[23] = 25000;
        output_rays[24] = 25000;
        output_rays[25] = 25500;
        output_rays[26] = 25499;
        output_rays[27] = 25999;
        output_rays[28] = 26500;
        output_rays[29] = 26499;
        output_rays[30] = 26999;
        output_rays[31] = 27499;
        output_rays[32] = 27499;
        output_rays[33] = 27999;
        output_rays[34] = 28499;
        output_rays[35] = 29000;
        output_rays[36] = 29000;
        output_rays[37] = 29500;
        output_rays[38] = 30000;
        output_rays[39] = 30500;
        output_rays[40] = 30999;
        output_rays[41] = 31499;
        output_rays[42] = 31999;
        output_rays[43] = 32500;
        output_rays[44] = 32999;
        output_rays[45] = 33499;
        output_rays[46] = 34000;
        output_rays[47] = 34500;
        output_rays[48] = 35000;
        output_rays[49] = 35500;
        output_rays[50] = 36500;
        output_rays[51] = 37000;
        output_rays[52] = 37500;
        output_rays[53] = 38500;
        output_rays[54] = 38999;
        output_rays[55] = 40000;
        output_rays[56] = 40499;
        output_rays[57] = 41500;
        output_rays[58] = 41999;
        output_rays[59] = 42999;
        output_rays[60] = 43999;
        output_rays[61] = 44999;
        output_rays[62] = 46000;
        output_rays[63] = 46999;
        output_rays[64] = 47999;
        output_rays[65] = 48999;
        output_rays[66] = 50499;
        output_rays[67] = 51500;
        output_rays[68] = 52999;
        output_rays[69] = 54499;
        output_rays[70] = 56000;
        output_rays[71] = 57499;
        output_rays[72] = 58999;
        output_rays[73] = 60999;
        output_rays[74] = 62500;
        output_rays[75] = 64500;
        output_rays[76] = 66499;
        output_rays[77] = 68999;
        output_rays[78] = 71499;
        output_rays[79] = 74000;
        output_rays[80] = 75499;
        output_rays[81] = 75500;
        output_rays[82] = 75499;
        output_rays[83] = 75499;
        output_rays[84] = 75500;
        output_rays[85] = 75499;
        output_rays[86] = 75500;
        output_rays[87] = 75499;
        output_rays[88] = 75500;
        output_rays[89] = 75499;
        output_rays[90] = 75500;
        output_rays[91] = 75499;
        output_rays[92] = 75499;
        output_rays[93] = 75499;
        output_rays[94] = 75499;
        output_rays[95] = 75499;
        output_rays[96] = 75499;
        output_rays[97] = 75499;
        output_rays[98] = 75500;
        output_rays[99] = 75499;
        output_rays[100] = 75500;
        output_rays[101] = 75499;
        output_rays[102] = 75499;
        output_rays[103] = 75499;
        output_rays[104] = 75500;
        output_rays[105] = 75500;
        output_rays[106] = 75500;
        output_rays[107] = 75500;
        output_rays[108] = 75500;
        output_rays[109] = 75500;
        output_rays[110] = 75499;
        output_rays[111] = 75500;
        output_rays[112] = 75499;
        output_rays[113] = 75499;
        output_rays[114] = 75499;
        output_rays[115] = 75500;
        output_rays[116] = 75499;
        output_rays[117] = 75500;
        output_rays[118] = 75500;
        output_rays[119] = 75500;
        output_rays[120] = 75500;
        output_rays[121] = 75499;
        output_rays[122] = 75500;
        output_rays[123] = 75500;
        output_rays[124] = 75500;
        output_rays[125] = 75499;
        output_rays[126] = 75500;
        output_rays[127] = 75499;
        output_rays[128] = 75499;
        output_rays[129] = 75500;
        output_rays[130] = 75500;
        output_rays[131] = 75500;
        output_rays[132] = 75500;
        output_rays[133] = 75499;
        output_rays[134] = 75500;
        output_rays[135] = 75499;
        output_rays[136] = 75500;
        output_rays[137] = 75500;
        output_rays[138] = 75500;
        output_rays[139] = 63499;
        output_rays[140] = 61500;
        output_rays[141] = 59500;
        output_rays[142] = 58000;
        output_rays[143] = 56500;
        output_rays[144] = 55500;
        output_rays[145] = 55499;
        output_rays[146] = 55500;
        output_rays[147] = 55500;
        output_rays[148] = 55499;
        output_rays[149] = 55500;
        output_rays[150] = 55500;
        output_rays[151] = 55500;
        output_rays[152] = 55499;
        output_rays[153] = 44500;
        output_rays[154] = 43499;
        output_rays[155] = 42500;
        output_rays[156] = 41500;
        output_rays[157] = 40999;
        output_rays[158] = 40000;
        output_rays[159] = 39500;
        output_rays[160] = 38500;
        output_rays[161] = 37999;
        output_rays[162] = 36999;
        output_rays[163] = 36499;
        output_rays[164] = 36000;
        output_rays[165] = 35500;
        output_rays[166] = 35499;
        output_rays[167] = 35499;
        output_rays[168] = 35499;
        output_rays[169] = 35500;
        output_rays[170] = 35499;
        output_rays[171] = 35499;
        output_rays[172] = 35500;
        output_rays[173] = 35499;
        output_rays[174] = 35500;
        output_rays[175] = 35500;
        output_rays[176] = 36000;
        output_rays[177] = 36000;
        output_rays[178] = 35999;
        output_rays[179] = 35999;
        output_rays[180] = 35999;
        output_rays[181] = 35999;
        output_rays[182] = 36000;
        output_rays[183] = 35999;
        output_rays[184] = 35999;
        output_rays[185] = 35999;
        output_rays[186] = 36000;
        output_rays[187] = 35999;
        output_rays[188] = 25499;
        output_rays[189] = 25000;
        output_rays[190] = 24999;
        output_rays[191] = 24499;
        output_rays[192] = 24500;
        output_rays[193] = 23999;
        output_rays[194] = 24000;
        output_rays[195] = 23499;
        output_rays[196] = 22999;
        output_rays[197] = 23000;
        output_rays[198] = 22499;
        output_rays[199] = 22500;
        output_rays[200] = 22500;
        output_rays[201] = 22000;
        output_rays[202] = 21999;
        output_rays[203] = 21500;
        output_rays[204] = 21500;
        output_rays[205] = 20999;
        output_rays[206] = 20999;
        output_rays[207] = 21000;
        output_rays[208] = 20500;
        output_rays[209] = 20499;
        output_rays[210] = 20000;
        output_rays[211] = 20000;
        output_rays[212] = 20000;
        output_rays[213] = 19500;
        output_rays[214] = 19499;
        output_rays[215] = 19500;
        output_rays[216] = 18999;
        output_rays[217] = 19000;
        output_rays[218] = 19000;
        output_rays[219] = 18500;
        output_rays[220] = 18499;
        output_rays[221] = 18500;
        output_rays[222] = 17999;
        output_rays[223] = 17999;
        output_rays[224] = 18000;
        output_rays[225] = 17500;
        output_rays[226] = 17499;
        output_rays[227] = 17500;
        output_rays[228] = 17499;
        output_rays[229] = 17000;
        output_rays[230] = 16999;
        output_rays[231] = 16999;
        output_rays[232] = 17000;
        output_rays[233] = 16499;
        output_rays[234] = 16500;
        output_rays[235] = 16499;
        output_rays[236] = 16499;
        output_rays[237] = 15999;
        output_rays[238] = 15999;
        output_rays[239] = 15999;
        output_rays[240] = 15999;
        output_rays[241] = 16000;
        output_rays[242] = 16000;
        output_rays[243] = 16000;
        output_rays[244] = 15999;
        output_rays[245] = 15999;
        output_rays[246] = 16000;
        output_rays[247] = 16000;
        output_rays[248] = 16000;
        output_rays[249] = 15999;
        output_rays[250] = 16000;
        output_rays[251] = 15999;
        output_rays[252] = 16499;
        output_rays[253] = 16499;
        output_rays[254] = 16499;
        output_rays[255] = 16499;
        output_rays[256] = 16500;
        output_rays[257] = 16499;
        output_rays[258] = 16499;
        output_rays[259] = 16500;
        output_rays[260] = 16500;
        output_rays[261] = 16499;
        output_rays[262] = 16499;
        output_rays[263] = 16500;
        output_rays[264] = 16500;
        output_rays[265] = 16499;
        output_rays[266] = 16500;
        output_rays[267] = 16500;
        output_rays[268] = 16499;
        output_rays[269] = 16499;
        output_rays[270] = 16499;
        output_rays[271] = 16499;
        output_rays[272] = 16500;
        output_rays[273] = 16499;
        output_rays[274] = 16499;
        output_rays[275] = 16499;
        output_rays[276] = 16499;
        output_rays[277] = 16499;
        output_rays[278] = 16500;
        output_rays[279] = 16499;
        output_rays[280] = 16500;
        output_rays[281] = 16499;
        output_rays[282] = 17000;
        output_rays[283] = 16999;
        output_rays[284] = 16999;
        output_rays[285] = 16999;
        output_rays[286] = 17000;
        output_rays[287] = 16999;
        output_rays[288] = 16999;
        output_rays[289] = 17000;
        output_rays[290] = 17000;
        output_rays[291] = 16999;
        output_rays[292] = 17000;
        output_rays[293] = 17000;
        output_rays[294] = 16999;
        output_rays[295] = 16999;
        output_rays[296] = 16999;
        output_rays[297] = 17000;
        output_rays[298] = 17000;
        output_rays[299] = 16999;
        output_rays[300] = 16999;
        output_rays[301] = 16999;
        output_rays[302] = 16999;
        output_rays[303] = 16999;
        output_rays[304] = 16999;
        output_rays[305] = 17000;
        output_rays[306] = 17000;
        output_rays[307] = 17499;
        output_rays[308] = 17499;
        output_rays[309] = 17500;
        output_rays[310] = 17499;
        output_rays[311] = 17499;
        output_rays[312] = 17500;
        output_rays[313] = 17500;
        output_rays[314] = 17500;
        output_rays[315] = 17500;
        output_rays[316] = 17500;
        output_rays[317] = 17500;
        output_rays[318] = 17499;
        output_rays[319] = 17499;
        output_rays[320] = 17500;
        output_rays[321] = 17500;
        output_rays[322] = 17499;
        output_rays[323] = 17499;
        output_rays[324] = 17499;
        output_rays[325] = 17500;
        output_rays[326] = 17499;
        output_rays[327] = 17500;
        output_rays[328] = 17999;
        output_rays[329] = 18000;
        output_rays[330] = 18000;
        output_rays[331] = 18000;
        output_rays[332] = 17999;
        output_rays[333] = 17999;
        output_rays[334] = 17999;
        output_rays[335] = 18000;
        output_rays[336] = 18000;
        output_rays[337] = 17999;
        output_rays[338] = 18000;
        output_rays[339] = 17999;
        output_rays[340] = 18000;
        output_rays[341] = 18000;
        output_rays[342] = 18000;
        output_rays[343] = 17999;
        output_rays[344] = 18000;
        output_rays[345] = 17999;
        output_rays[346] = 18499;
        output_rays[347] = 18500;
        output_rays[348] = 18500;
        output_rays[349] = 18500;
        output_rays[350] = 18499;
        output_rays[351] = 18499;
        output_rays[352] = 18499;
        output_rays[353] = 18499;
        output_rays[354] = 18499;
        output_rays[355] = 18500;
        output_rays[356] = 18499;
        output_rays[357] = 18499;
        output_rays[358] = 18500;
        output_rays[359] = 18499;
        output_rays[360] = 18500;
        output_rays[361] = 18500;
        output_rays[362] = 18999;
        output_rays[363] = 19000;
        output_rays[364] = 18999;
        output_rays[365] = 18999;
        output_rays[366] = 18999;
        output_rays[367] = 19000;
        output_rays[368] = 18999;
        output_rays[369] = 19000;
        output_rays[370] = 18999;
        output_rays[371] = 18999;
        output_rays[372] = 19000;
        output_rays[373] = 18999;
        output_rays[374] = 18999;
        output_rays[375] = 18999;
        output_rays[376] = 19499;
        output_rays[377] = 19500;
        output_rays[378] = 19500;
        output_rays[379] = 19500;
        output_rays[380] = 19499;
        output_rays[381] = 19500;
        output_rays[382] = 19499;
        output_rays[383] = 19499;
        output_rays[384] = 19499;
        output_rays[385] = 19499;
        output_rays[386] = 19500;
        output_rays[387] = 19499;
        output_rays[388] = 19500;
        output_rays[389] = 19499;
        output_rays[390] = 20000;
        output_rays[391] = 19999;
        output_rays[392] = 20000;
        output_rays[393] = 19999;
        output_rays[394] = 20000;
        output_rays[395] = 19999;
        output_rays[396] = 19999;
        output_rays[397] = 20000;
        output_rays[398] = 20000;
        output_rays[399] = 20000;
        output_rays[400] = 19999;
        output_rays[401] = 19999;
        output_rays[402] = 20500;
        output_rays[403] = 20500;
        output_rays[404] = 20500;
        output_rays[405] = 20500;
        output_rays[406] = 20500;
        output_rays[407] = 20500;
        output_rays[408] = 20500;
        output_rays[409] = 20500;
        output_rays[410] = 20500;
        output_rays[411] = 20500;
        output_rays[412] = 20499;
        output_rays[413] = 20999;
        output_rays[414] = 21000;
        output_rays[415] = 20999;
        output_rays[416] = 20999;
        output_rays[417] = 21000;
        output_rays[418] = 20999;
        output_rays[419] = 20999;
        output_rays[420] = 20999;
        output_rays[421] = 21000;
        output_rays[422] = 20999;
        output_rays[423] = 77500;
        output_rays[424] = 77500;
        output_rays[425] = 77500;
        output_rays[426] = 106000;
        output_rays[427] = 49500;
        output_rays[428] = 49500;
        output_rays[429] = 49499;
        output_rays[430] = 49500;
        output_rays[431] = 7000;
        output_rays[432] = 7000;
        output_rays[433] = 7000;
        output_rays[434] = 6999;
        output_rays[435] = 6999;
        output_rays[436] = 7000;
        output_rays[437] = 6999;
        output_rays[438] = 6999;
        output_rays[439] = 7000;
        output_rays[440] = 6999;
        output_rays[441] = 7000;
        output_rays[442] = 6999;
        output_rays[443] = 6999;
        output_rays[444] = 7000;
        output_rays[445] = 6999;
        output_rays[446] = 7000;
        output_rays[447] = 6999;
        output_rays[448] = 6999;
        output_rays[449] = 7000;
        output_rays[450] = 7000;
        output_rays[451] = 6999;
        output_rays[452] = 7000;
        output_rays[453] = 7000;
        output_rays[454] = 7000;
        output_rays[455] = 6999;
        output_rays[456] = 6999;
        output_rays[457] = 6999;
        output_rays[458] = 6999;
        output_rays[459] = 7000;
        output_rays[460] = 7000;
        output_rays[461] = 6999;
        output_rays[462] = 6999;
        output_rays[463] = 7000;
        output_rays[464] = 6999;
        output_rays[465] = 6500;
        output_rays[466] = 6500;
        output_rays[467] = 6499;
        output_rays[468] = 6500;
        output_rays[469] = 6500;
        output_rays[470] = 6499;
        output_rays[471] = 6500;
        output_rays[472] = 6499;
        output_rays[473] = 6499;
        output_rays[474] = 6499;
        output_rays[475] = 6500;
        output_rays[476] = 6499;
        output_rays[477] = 6499;
        output_rays[478] = 6499;
        output_rays[479] = 6500;
        output_rays[480] = 6499;
        output_rays[481] = 6499;
        output_rays[482] = 6500;
        output_rays[483] = 6500;
        output_rays[484] = 6499;
        output_rays[485] = 6499;
        output_rays[486] = 6500;
        output_rays[487] = 6499;
        output_rays[488] = 6500;
        output_rays[489] = 6499;
        output_rays[490] = 6499;
        output_rays[491] = 6500;
        output_rays[492] = 6499;
        output_rays[493] = 6500;
        output_rays[494] = 6500;
        output_rays[495] = 6499;
        output_rays[496] = 6500;
        output_rays[497] = 6500;
        output_rays[498] = 6499;
        output_rays[499] = 6499;
        output_rays[500] = 6500;
        output_rays[501] = 6499;
        output_rays[502] = 6499;
        output_rays[503] = 6499;
        output_rays[504] = 6499;
        output_rays[505] = 6500;
        output_rays[506] = 6500;
        output_rays[507] = 6500;
        output_rays[508] = 6500;
        output_rays[509] = 6000;
        output_rays[510] = 6000;
        output_rays[511] = 5999;
        output_rays[512] = 6000;
        output_rays[513] = 6000;
        output_rays[514] = 5999;
        output_rays[515] = 5999;
        output_rays[516] = 5999;
        output_rays[517] = 6000;
        output_rays[518] = 6000;
        output_rays[519] = 5999;
        output_rays[520] = 6000;
        output_rays[521] = 6000;
        output_rays[522] = 5999;
        output_rays[523] = 5999;
        output_rays[524] = 6000;
        output_rays[525] = 6000;
        output_rays[526] = 6000;
        output_rays[527] = 6000;
        output_rays[528] = 6000;
        output_rays[529] = 6000;
        output_rays[530] = 6000;
        output_rays[531] = 6000;
        output_rays[532] = 5999;
        output_rays[533] = 6000;
        output_rays[534] = 6000;
        output_rays[535] = 6000;
        output_rays[536] = 5999;
        output_rays[537] = 5999;
        output_rays[538] = 5999;
        output_rays[539] = 6000;
        output_rays[540] = 6000;
        output_rays[541] = 5999;
        output_rays[542] = 5999;
        output_rays[543] = 5999;
        output_rays[544] = 5999;
        output_rays[545] = 6000;
        output_rays[546] = 5999;
        output_rays[547] = 6000;
        output_rays[548] = 5999;
        output_rays[549] = 5999;
        output_rays[550] = 6000;
        output_rays[551] = 6000;
        output_rays[552] = 6000;
        output_rays[553] = 6000;
        output_rays[554] = 6000;
        output_rays[555] = 5999;
        output_rays[556] = 6000;
        output_rays[557] = 6000;
        output_rays[558] = 5999;
        output_rays[559] = 6000;
        output_rays[560] = 6000;
        output_rays[561] = 5999;
        output_rays[562] = 5999;
        output_rays[563] = 6000;
        output_rays[564] = 6000;
        output_rays[565] = 5999;
        output_rays[566] = 6000;
        output_rays[567] = 5999;
        output_rays[568] = 5999;
        output_rays[569] = 5999;
        output_rays[570] = 6000;
        output_rays[571] = 6000;
        output_rays[572] = 5500;
        output_rays[573] = 5500;
        output_rays[574] = 5500;
        output_rays[575] = 5500;
        output_rays[576] = 5499;
        output_rays[577] = 5499;
        output_rays[578] = 5499;
        output_rays[579] = 5499;
        output_rays[580] = 5500;
        output_rays[581] = 5500;
        output_rays[582] = 5499;
        output_rays[583] = 5500;
        output_rays[584] = 5500;
        output_rays[585] = 5500;
        output_rays[586] = 5500;
        output_rays[587] = 5499;
        output_rays[588] = 5500;
        output_rays[589] = 5499;
        output_rays[590] = 5500;
        output_rays[591] = 5499;
        output_rays[592] = 5500;
        output_rays[593] = 5499;
        output_rays[594] = 5500;
        output_rays[595] = 5499;
        output_rays[596] = 5500;
        output_rays[597] = 5500;
        output_rays[598] = 5499;
        output_rays[599] = 5499;
        output_rays[600] = 5500;
        output_rays[601] = 5500;
        output_rays[602] = 5500;
        output_rays[603] = 5499;
        output_rays[604] = 5499;
        output_rays[605] = 5500;
        output_rays[606] = 5500;
        output_rays[607] = 5499;
        output_rays[608] = 5499;
        output_rays[609] = 5499;
        output_rays[610] = 5500;
        output_rays[611] = 5499;
        output_rays[612] = 5500;
        output_rays[613] = 5500;
        output_rays[614] = 5500;
        output_rays[615] = 5500;
        output_rays[616] = 5500;
        output_rays[617] = 5500;
        output_rays[618] = 5499;
        output_rays[619] = 5499;
        output_rays[620] = 5499;
        output_rays[621] = 5500;
        output_rays[622] = 5500;
        output_rays[623] = 5500;
        output_rays[624] = 5500;
        output_rays[625] = 5500;
        output_rays[626] = 5500;
        output_rays[627] = 5500;
        output_rays[628] = 5500;
        output_rays[629] = 5500;
        output_rays[630] = 5499;
        output_rays[631] = 5499;
        output_rays[632] = 5500;
        output_rays[633] = 5500;
        output_rays[634] = 5500;
        output_rays[635] = 5500;
        output_rays[636] = 5500;
        output_rays[637] = 5499;
        output_rays[638] = 5500;
        output_rays[639] = 5500;

    end 

    reg [9:0] xpos = 0;
    
    reg [31:0] output_ray_reg = 0;
    reg [9:0] output_xpos_reg = 0;
    assign output_ray = output_ray_reg;
    assign output_xpos = output_xpos_reg;

    //reg write_done = 0;
    always @(posedge clk100) begin 
        
        if (send_new_ray == 1) begin
            output_ray_reg = output_rays[xpos];
            output_xpos_reg = xpos;
            xpos = xpos + 1;
        end

        if (xpos+1 >= 640) begin
            xpos = 0;
        end
    end
    
endmodule
